<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1">

    <title>Xoundboy.com admin panel</title>
    <meta name="viewport" content="width=device-width">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css' />

    <script src="/assets/js/shared.js" charset="utf-8"></script>
    <script src="/assets/js/backend.js" charset="utf-8"></script>

</head>
<body>
<div id="page"></div>
</body>
</html>

<script type="text/template" id="template_dashboard">
    <div id="tabs">
        <ul>
            <li><a id="tabAudioUpload" href="#audioUpload">Audio Upload</a></li>
            <li><a id="tabRecordings" href="#recordings">Recordings</a></li>
            <li><a id="tabArtists" href="#artists">Artists</a></li>
            <li><a id="tabPlaylists" href="#playlists">Playlists</a></li>
        </ul>
        <div id="audioUpload">
            <div id="audioUploadContainer"></div>
        </div>
        <div id="recordings">
            <div id="recordingsContainer">
                <p>Loading...</p>
            </div>
        </div>
        <div id="artists">
            Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.
        </div>
        <div id="playlists">
            Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.
        </div>
    </div>
</script>

<script type="text/template" id="template_audioUpload">
    {{#step1}}
    <div id="step1" class="steps">
        <h2>Step 1: Upload Audio File</h2>
        <input type="file" name="uploadFile" id="uploadFile" accept=".mp3" />
    </div>
    {{/step1}}
    {{#step2}}
    <div id="step2" class="steps">
        <h2>Step 2: Preview Upload</h2>
        <p>Check that the file uploaded correctly by playing it.</p>
        <audio controls>
            <source src="/uploads/{{tempName}}.mp3" type="audio/mpeg">
        </audio>
        <p class="small">File size: {{size}} bytes</p>
        <p class="buttons">
            <button id="step2BackBtn" class="backBtn">Upload again</button>
            <button id="step2NextBtn" class="nextBtn">Plays fine</button>
        </p>
    </div>
    {{/step2}}
    {{#step3}}
    <div id="step3" class="steps">
        <h2>Step 3: Provide Info</h2>
        <p>Now enter some details about the uploaded audio recording so that it can be saved permanently</p>
        <form id="newRecordingInfo">
            <div class="newRecordingInfoFormContainer"></div>
            <p class="buttons">
                <button id="step3BackBtn" class="registerInfoBtn">Back</button>
                <button id="step3NextBtn" class="registerInfoBtn" type="submit">Next</button>
            </p>
        </form>
    </div>
    {{/step3}}
    {{#step4}}
    <div id="step4" class="steps">
        <h2>Step 4: Confirmation</h2>
        <p>You have entered the following information:</p>
        <p>Title: <strong>{{title}}</strong></p>
        <p>Artist: <strong>{{{selectedArtistText}}}</strong></p>
        <p>Type: <strong>{{{selectedTypeText}}}</strong></p>
        <p>Location: <strong>{{recLocation}}</strong></p>
        <p>Date: <strong>{{recDate}}</strong></p>
        <p>Notes: <strong>{{recNotes}}</strong></p>
        <p class="buttons">
            <button id="step4BackBtn" class="backBtn">Back</button>
            <button id="step4NextBtn">Confirm</button>
        </p>
    </div>
    {{/step4}}
</script>

<script type="text/template" id="template_recordings">
    <table id="recordings_table" class="benGrid">
        <thead>
        <tr>
            <th></th>
            <th bengrid-key="audioFile">Title</th>
            <th bengrid-key="actName">Artist</th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        {{#recordings}}
        <tr id="recordingId-{{id}}" class="recordingRow" data-recordingid="{{id}}">
            <td><button class="previewButton" data-filename="{{audioFile}}.mp3">preview</button></td>
            <td>{{title}}</td>
            <td data-artistid="{{actID}}">{{actName}}</td>
            <td><button class="editRecordingButton">edit</button></td>
            <td><button class="deleteRecordingButton">delete</button></td>
        </tr>
        {{/recordings}}
        </tbody>
    </table>
</script>

<script id="template_recordingAddEdit" type="text/template">


    {{#tempName}}
        <!-- when form content used for audioUpload -->
        <input type="hidden" name="audioFile" value="{{tempName}}" />
    {{/tempName}}


    {{^tempName}}
        <!-- when form content used for recording edit panel -->
        <h2>Edit Recording Details</h2>
        <input type="hidden" name="audioFile" value="{{audioFile}}" />
    {{/tempName}}

    <input type="hidden" name="size" value="{{size}}" />
    <p>
        <label for="title">Title</label>
        <input type="text" name="title" id="title" maxlength="40" value="{{title}}" required />
    </p>
    <p>
        <label for="actID">Artist</label>
        <select name="actID" id="actID" required>
            {{^artistOptions}}
            <option value="">Loading artists</option>
            {{/artistOptions}}
            <option value="">Select an artist</option>
            {{#artistOptions}}
            <option value="{{id}}">{{actName}}</option>
            {{/artistOptions}}
        </select>
    </p>
    <p>
        <label for="typeID">Type</label>
        <select name="typeID" id="typeID" required>
            {{^typeOptions}}
            <option value="">Loading types</option>
            {{/typeOptions}}
            <option value="">Select a type</option>
            {{#typeOptions}}
            <option value="{{id}}">{{typeName}}</option>
            {{/typeOptions}}
        </select>
    </p>
    <p>
        <label for="recLocation">Location</label>
        <input type="text" name="recLocation" id="recLocation" value="{{recLocation}}" required />
    </p>
    <p>
        <label for="recDate">Date</label>
        <input class="datepicker" type="text" name="recDate" id="recDate" value="{{recDate}}" required />
    </p>
    <p>
        <label for="recNotes">Notes</label>
        <textarea name="recNotes" id="recNotes">{{recNotes}}</textarea>
    </p>


</script>

<script type="text/template" id="template_recordingEditPanel">
    <td colspan='7'>
        <form id="recordingInfo">
            <div class="recordingInfoFormContainer"></div>
            <p class="buttons">
                <button id="cancelEditButton">Cancel</button>
                <button id="updateRecordingButton">Update</button>
            </p>
        </form>
    </td>
</script>